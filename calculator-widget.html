<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PowerCalc India - Calculator Widget</title>
    <!-- Styles specifically for the calculator widget to ensure it looks right -->
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            margin: 0;
            background-color: #ffffff;
            color: #333;
        }
        .calculator-container {
            padding: 1.5rem;
            max-width: 600px;
            margin: 0 auto;
        }
        .tabs {
            display: flex;
            border-bottom: 1px solid #e0e0e0;
            margin-bottom: 1.5rem;
        }
        .tab {
            padding: 1rem 1.5rem;
            cursor: pointer;
            font-weight: 600;
            color: #555;
            border-bottom: 3px solid transparent;
            transition: all 0.2s ease-in-out;
        }
        .tab.active {
            color: #007bff;
            border-bottom-color: #007bff;
        }
        .tab-content {
            display: none;
        }
        .tab-content.active {
            display: block;
        }
        .input-group {
            margin-bottom: 1.25rem;
        }
        label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
            color: #333;
        }
        input[type="number"], select {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid #ccc;
            border-radius: 8px;
            box-sizing: border-box;
            font-size: 1rem;
        }
        .radio-group {
            display: flex;
            gap: 1rem;
            margin-bottom: 1.25rem;
        }
        .radio-group label {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        .reading-inputs {
            display: flex;
            gap: 1rem;
        }
        button {
            width: 100%;
            padding: 1rem;
            background: linear-gradient(90deg, #007bff, #0056b3);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1.1rem;
            font-weight: 700;
            cursor: pointer;
            transition: transform 0.1s ease;
        }
        button:hover {
            transform: scale(1.02);
        }
        .results-container {
            margin-top: 1.5rem;
            padding: 1.5rem;
            background-color: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 8px;
            display: none; /* Initially hidden */
        }
        .total-amount {
            font-size: 2rem;
            font-weight: bold;
            color: #007bff;
            text-align: center;
        }
        #breakdown-details {
            margin-top: 1rem;
            border-top: 1px solid #e0e0e0;
            padding-top: 1rem;
        }
    </style>
</head>
<body>

    <!-- This is your FULL calculator structure, copied from index.html -->
    <div class="calculator-container" id="calculator-container">
        <div class="tabs">
            <div class="tab active" data-tab="domestic">Domestic</div>
            <div class="tab" data-tab="commercial">Commercial</div>
        </div>

        <div class="tab-content active" id="domestic">
            <div class="input-group" id="state-selection-group">
                <label for="state-select">Select Your State</label>
                <select id="state-select" name="state"></select>
            </div>
            
            <div class="input-group">
                <label>How do you want to calculate?</label>
                <div class="radio-group">
                    <label><input type="radio" name="calc-method" value="units" checked> By Units</label>
                    <label><input type="radio" name="calc-method" value="reading"> By Meter Reading</label>
                </div>
            </div>

            <div id="units-input-container">
                <div class="input-group">
                    <label for="units-input">Enter Units Consumed</label>
                    <input type="number" id="units-input" placeholder="e.g., 350" min="0">
                </div>
            </div>

            <div id="reading-input-container" style="display: none;">
                <div class="input-group reading-inputs">
                    <div>
                        <label for="prev-reading">Previous Reading</label>
                        <input type="number" id="prev-reading" placeholder="e.g., 1200" min="0">
                    </div>
                    <div>
                        <label for="curr-reading">Current Reading</label>
                        <input type="number" id="curr-reading" placeholder="e.g., 1550" min="0">
                    </div>
                </div>
            </div>

            <button id="calculate-btn">Calculate Bill</button>
        </div>

        <div class="tab-content" id="commercial">
            <!-- Placeholder for Commercial Calculator -->
            <p>Commercial calculator functionality coming soon.</p>
        </div>
        
        <div class="results-container" id="results-container">
            <h3>Estimated Bill Breakdown</h3>
            <p>Total Amount: <span id="total-amount" class="total-amount"></span></p>
            <div id="breakdown-details"></div>
            <div class="export-options">
                <button id="export-json-btn">Export as JSON</button>
            </div>
        </div>
    </div>

    <!-- This links to your ORIGINAL, full app.js file -->
    <script src="/app.js"></script>

</body>
</html>

